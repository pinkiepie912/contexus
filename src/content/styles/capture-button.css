/**
 * Capture Button Styles
 *
 * Optimized CSS for capture button components with performance considerations.
 * These styles are injected into the host page and must be carefully scoped.
 * Note: No Tailwind directives - pure CSS for content script injection.
 */

/* Main capture button styling */
.contexus-capture-btn {
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
  margin: 0 !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: opacity 0.2s ease !important;
  outline: none !important;
  box-shadow: none !important;
  vertical-align: middle !important;
}

.contexus-capture-btn:hover {
  background: transparent !important;
  transform: scale(1.05) !important;
  transition: transform 0.15s ease !important;
}

.contexus-capture-btn:active {
  transform: scale(0.95) !important;
  transition: transform 0.1s ease !important;
}

.contexus-capture-btn:focus-visible {
  outline: 2px solid rgba(79, 70, 229, 0.6) !important;
  outline-offset: 2px !important;
  border-radius: 4px !important;
}

/* Icon styling */
.contexus-capture-icon {
  display: block !important;
  object-fit: contain !important;
  border-radius: 4px !important;
  flex-shrink: 0 !important;
  pointer-events: none !important;
}

/* Success feedback animation */
.contexus-capture-feedback {
  outline: 2px solid rgba(34, 211, 238, 0.8) !important;
  outline-offset: 2px !important;
  border-radius: 4px !important;
  animation: contexus-pulse 0.5s ease-out !important;
}

/* Loading state */
.contexus-capture-btn[data-loading="true"] {
  opacity: 0.7 !important;
  pointer-events: none !important;
  cursor: default !important;
}

/* Error state */
.contexus-capture-btn[data-error="true"] {
  outline: 2px solid rgba(239, 68, 68, 0.8) !important;
  outline-offset: 2px !important;
  border-radius: 4px !important;
  animation: contexus-shake 0.3s ease-out !important;
}

/* Animations */
@keyframes contexus-pulse {
  0% {
    outline-color: rgba(34, 211, 238, 0.8);
    transform: scale(1);
  }
  50% {
    outline-color: rgba(34, 211, 238, 0.4);
    transform: scale(1.02);
  }
  100% {
    outline-color: rgba(34, 211, 238, 0.8);
    transform: scale(1);
  }
}

@keyframes contexus-shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-2px); }
  75% { transform: translateX(2px); }
}

/* Platform-specific adjustments */

/* ChatGPT/OpenAI specific */
[data-contexus-platform="openai"] .contexus-capture-btn {
  /* OpenAI tends to have smaller action buttons */
  margin-left: 4px !important;
}

/* Gemini specific */
[data-contexus-platform="gemini"] .contexus-capture-btn {
  /* Gemini action bars may need different alignment */
  align-self: center !important;
}

/* Claude specific */
[data-contexus-platform="claude"] .contexus-capture-btn {
  /* Claude action bars are usually well-aligned */
  margin-left: 2px !important;
}

/* Responsive adjustments for different viewport sizes */
@media (max-width: 768px) {
  .contexus-capture-btn {
    /* Slightly larger touch targets on mobile */
    min-width: 32px !important;
    min-height: 32px !important;
  }

  .contexus-capture-icon {
    /* Ensure icons don't get too small on mobile */
    min-width: 20px !important;
    min-height: 20px !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .contexus-capture-btn:focus-visible {
    outline: 3px solid currentColor !important;
    outline-offset: 3px !important;
  }

  .contexus-capture-feedback {
    outline: 3px solid #00bcd4 !important;
    outline-offset: 3px !important;
  }

  .contexus-capture-btn[data-error="true"] {
    outline: 3px solid #f44336 !important;
    outline-offset: 3px !important;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .contexus-capture-btn,
  .contexus-capture-btn:hover,
  .contexus-capture-btn:active {
    transition: none !important;
    transform: none !important;
  }

  .contexus-capture-feedback,
  .contexus-capture-btn[data-error="true"] {
    animation: none !important;
  }
}

/* Dark mode adjustments (based on system preference) */
@media (prefers-color-scheme: dark) {
  .contexus-capture-btn:focus-visible {
    outline-color: rgba(129, 140, 248, 0.8) !important;
  }

  .contexus-capture-feedback {
    outline-color: rgba(34, 211, 238, 0.9) !important;
  }

  .contexus-capture-btn[data-error="true"] {
    outline-color: rgba(248, 113, 113, 0.9) !important;
  }
}